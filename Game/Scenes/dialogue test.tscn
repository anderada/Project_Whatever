[gd_scene load_steps=20 format=3 uid="uid://l0dq8y0k160q"]

[ext_resource type="MeshLibrary" uid="uid://bao13rsfdp2re" path="res://Assets/Tile Sets/tileSet.tres" id="1_oxkg4"]
[ext_resource type="Script" path="res://Scripts/playerMovement.gd" id="2_x7362"]
[ext_resource type="Script" path="res://Scripts/cameraMovement.gd" id="3_ns3bt"]
[ext_resource type="Script" path="res://Scripts/actionable.gd" id="4_snlh1"]
[ext_resource type="Resource" uid="uid://c4b5du6lf0c6g" path="res://Dialogue/testDialogue.dialogue" id="5_xanhj"]
[ext_resource type="Script" path="res://Scripts/item.gd" id="6_gg44o"]

[sub_resource type="Curve" id="Curve_x6p1d"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_mdgxm"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(1, 1), 1.4, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_u7dom"]
_data = [Vector2(0, 0), 0.0, 1.0, 0, 1, Vector2(1, 1), 1.0, 0.0, 1, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_kf3x4"]
_data = [Vector2(0, 0), 0.0, 1.4, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_ou3iv"]
_data = [Vector2(0, 0), 0.0, -0.245637, 0, 0, Vector2(0.321053, 0), 0.835163, 0.835163, 0, 0, Vector2(1, 1), 0.0, -1.04401, 0, 0]
point_count = 3

[sub_resource type="Sky" id="Sky_7khwp"]

[sub_resource type="Environment" id="Environment_f8dpp"]
background_mode = 1
background_color = Color(0.79794, 0.939559, 1, 1)
sky = SubResource("Sky_7khwp")
ambient_light_source = 2
ambient_light_color = Color(0.228272, 0.254902, 0.321211, 1)
reflected_light_source = 2
glow_enabled = true
glow_bloom = 0.07
fog_mode = 1
fog_light_color = Color(0.876319, 0.948077, 0.98491, 1)
fog_density = 1.0
fog_depth_curve = 2.14355
fog_depth_begin = 5.0
fog_depth_end = 86.0
volumetric_fog_enabled = true
volumetric_fog_albedo = Color(0.590301, 1, 0.949091, 1)

[sub_resource type="Curve" id="Curve_kfd2c"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.347368, 0.461538), 2.71429, 2.71429, 0, 0, Vector2(0.673684, 1), 0.0, 0.0, 0, 0, Vector2(0.857895, 0.285714), -4.42146, -4.42146, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="CylinderShape3D" id="CylinderShape3D_16tlw"]
height = 0.297069

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_8s12t"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_vlvrd"]

[sub_resource type="BoxShape3D" id="BoxShape3D_rbpxt"]
size = Vector3(0.364345, 0.425667, 0.486832)

[sub_resource type="BoxMesh" id="BoxMesh_a7d1g"]
size = Vector3(0.2, 0.2, 0.2)

[node name="Test Scene2" type="Node3D"]

[node name="Lights" type="Node" parent="."]

[node name="Sun" type="DirectionalLight3D" parent="Lights"]
transform = Transform3D(0.773345, -0.308728, 0.553737, -0.221585, 0.686715, 0.692332, -0.594002, -0.658111, 0.462658, 0, 0, 0)
light_energy = 1.809
shadow_enabled = true
shadow_bias = 0.0
shadow_normal_bias = 10.0
shadow_reverse_cull_face = true
shadow_opacity = 0.85
shadow_blur = 2.878

[node name="Ambient" type="DirectionalLight3D" parent="Lights"]
transform = Transform3D(-0.195062, -0.872603, -0.44779, -0.379759, -0.353751, 0.854777, -0.904286, 0.336787, -0.262376, 1, -1, 0)
light_color = Color(0.811759, 0.698879, 0.638784, 1)
light_energy = 2.095
light_indirect_energy = 16.0
light_volumetric_fog_energy = 0.0

[node name="GridMap" type="GridMap" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000214398, 1.19209e-07, -0.00263596)
mesh_library = ExtResource("1_oxkg4")
cell_size = Vector3(1, 1, 1)
cell_octant_size = 128
cell_center_x = false
cell_center_y = false
cell_center_z = false
cell_scale = 0.501
data = {
"cells": PackedInt32Array(-131074, 65533, 1441793, -131074, 65532, 1441793, -131074, 65531, 1441793, -131074, 65530, 1441793, -131074, 65529, 1441793, -131074, 65528, 1441793, -131074, 65527, 1441793, -131074, 65526, 1441793, -131073, 65526, 1441793, -196608, 65526, 1441793, -196607, 65526, 1441793, -196606, 65526, 1441793, -131073, 65533, 1441793, -196608, 65533, 1441793, -196607, 65532, 1441793, -196606, 65532, 1441793, -196607, 65533, 1441793, -196606, 65533, 1441793, -196605, 65533, 1441793, -196605, 65532, 1441793, -196605, 65531, 1441793, -196608, 65532, 1441793, -131073, 65532, 1441793, -131075, 65531, 1441793, -131075, 65532, 1441793, -131075, 65533, 1441793, -131075, 65530, 1441793, -131075, 65529, 1441793, -131075, 65528, 1441793, -131075, 65526, 1441793, -196605, 65526, 1441793, -196605, 65527, 1441793, -196605, 65528, 1441793, -196605, 65529, 1441793, -196605, 65530, 1441793, -196606, 65530, 1441793, -196606, 65531, 1441793, -196607, 65531, 1441793, -196608, 65531, 1441793, -196608, 65530, 1441793, -131073, 65530, 1441793, -131073, 65531, 1441793, -196607, 65530, 1441793, -196607, 65529, 1441793, -196608, 65529, 1441793, -131073, 65529, 1441793, -131073, 65528, 1441793, -196608, 65528, 1441793, -196607, 65528, 1441793, -196606, 65528, 1441793, -196606, 65529, 1441793, -196606, 65527, 1441793, -196607, 65527, 1441793, -196608, 65527, 1441793, -131073, 65527, 1441793, -65538, 65534, 1441794, -65539, 65534, 1441794, -65540, 65534, 1441794, -65540, 65533, 1441794, -65540, 65532, 1441794, -65540, 65531, 1441794, -65540, 65530, 1441794, -65540, 65529, 1441794, -65540, 65528, 1441794, -65540, 65527, 1441794, -65540, 65526, 1441794, -65540, 65525, 1441794, -65539, 65525, 2, -131070, 65534, 2, -65537, 65534, 1441794, -131071, 65535, 2, -131070, 65535, 2, -196604, 65533, 1, -196604, 65532, 1, -196604, 65531, 1, -196604, 65530, 1, -196604, 65529, 1, -196604, 65528, 1, -196604, 65527, 1, -196604, 65526, 1, -196606, 65525, 2, -196605, 65525, 2, -65537, 65533, 2, -196608, 65534, 1310722, -196608, 65535, 1310722, -131073, 65535, 1310722, -65537, 65535, 2, -131072, 0, 1310722, -131071, 0, 1310722, -131070, 0, 1310722, -65538, 65533, 262146, -65538, 65532, 262146, -65539, 65533, 262146, -65539, 65532, 262146, -65539, 65531, 262146, -65539, 65530, 262146, -65537, 65524, 262146, -131073, 65525, 262145, -131074, 65525, 262145, -65538, 65524, 2, -131075, 65527, 262145, -131068, 65529, 1245185, -131072, 65535, 2, -65537, 0, 2, -65538, 0, 2, -65538, 65535, 2, -4, 65534, 1441794, -4, 65533, 1441794, -4, 65532, 1441794, -4, 65531, 1441794, -4, 65530, 1441794, -4, 65529, 1441794, -4, 65528, 1441794, -4, 65527, 1441794, -4, 65526, 1441794, -4, 65525, 1441794, -3, 65525, 1441794, -2, 65524, 1441794, -1, 65524, 1441794, -65539, 65535, 1441794, -131069, 65535, 1441794, -2, 1, 1441794, -3, 0, 1441794, -4, 65535, 1441794, -196605, 65524, 1441794, -196605, 65523, 1441794, -196605, 65522, 1441794, -131069, 65524, 1179650, -65534, 65523, 655363, -131070, 65524, 1048578, -131071, 65524, 1048578, -131072, 65524, 1048578, -65535, 65523, 1048578, -65536, 65523, 1048578, -131069, 65523, 1048578, -131068, 65523, 1048578, -131069, 65522, 1048578, -65533, 65521, 1048578, -65533, 65522, 1048578, -65534, 65522, 1048578, -65535, 65522, 1048578, -65536, 65522, 1048578, 65535, 65524, 1048578, 65535, 65523, 1048578, 65535, 65522, 1048578, 65534, 65523, 1048578, 65533, 65524, 1048578, 65532, 65524, 655361, 196604, 65522, 1048578, 65531, 65525, 1048578, 65531, 65526, 1048578, 65531, 65527, 1048578, 65531, 65528, 1048578, 65531, 65529, 1048578, 65531, 65530, 1048578, 65531, 65531, 1048578, 65531, 65532, 1048578, 65531, 65533, 1048578, 65531, 65534, 1048578, 65531, 65535, 1048578, 65532, 0, 1048578, 65533, 1, 1048578, 65534, 2, 1048578, 65535, 2, 1048578, 0, 2, 1048578, 1, 2, 1048578, 2, 2, 1048578, 3, 1, 1048578, 4, 0, 1048578, 5, 65524, 1048578, 5, 65523, 1048578, 5, 65522, 1048578, -65532, 65522, 1048578, 4, 65522, 1048578, 3, 65522, 1048578, 2, 65522, 1048578, 1, 65522, 1048578, 0, 65522, 1048579, 2, 65521, 1048578, 1, 65521, 1048578, 0, 65520, 1048578, 0, 65521, 1048578, 65535, 65521, 1048578, 2, 65520, 1048578, 1, 65520, 1048578, 65535, 65520, 1048578, 1, 65519, 1048578, 65535, 65519, 1048578, 65535, 65518, 1048577, 131070, 65518, 655362, 131070, 65519, 655362, 131070, 65520, 655362, 131067, 65523, 655361, 131067, 65524, 655362, 131066, 65524, 655362, 131065, 65524, 655362, 196600, 65521, 655362, 65541, 65519, 655362, 65539, 65520, 655362, 65540, 65523, 655362, 65540, 65524, 655362, 65541, 65524, 655362, 131076, 65523, 655362, 0, 65518, 1048577, 0, 65519, 1048578, 65537, 65517, 983041, 65534, 65524, 1048578, 65533, 65518, 1441793, 65533, 65519, 1441793, 65533, 65520, 1441793, 65533, 65521, 1441793, 65533, 65522, 1441793, 65534, 65520, 1441793, 65533, 65523, 1441793, 131067, 65520, 1441794, 131068, 65518, 1441794, 131068, 65519, 1441794, 131068, 65520, 1441794, 131068, 65521, 1441794, 131068, 65522, 1441794, 131071, 65518, 1441794, 65536, 65518, 1441794, 131071, 65520, 1441794, -65537, 65532, 1376258, -65537, 65531, 1376258, -65537, 65530, 1376258, -131072, 65533, 1376256, -131071, 65533, 1376256, -131072, 65534, 1376256, -131071, 65534, 1376256, -131072, 65532, 1376257, -131072, 65531, 1376257, -131072, 65530, 1376257, -131071, 65532, 1376257, -131071, 65531, 1376257, -131072, 65529, 1376257, -131071, 65529, 1376257, -131071, 65530, 1376257, -65537, 65529, 1376258, -65537, 65528, 1376258, -131072, 65528, 1376258, -131071, 65528, 1376258, -131070, 65528, 1376258, -65537, 65527, 1310722, -65537, 65526, 2, -65537, 65525, 2, -131070, 65529, 1245185, -131070, 65530, 1245185, -131069, 65530, 1245185, -131069, 65529, 1245185, -131070, 65531, 1245186, -131070, 65532, 1245186, -131070, 65533, 1245186, -131069, 65531, 1245185, -131069, 65532, 1245185, -131069, 65533, 1245185, -131068, 65533, 1245185, -131069, 65534, 1245185, -131068, 65534, 1245185, -131068, 65532, 1245185, -131068, 65531, 1245185, -131068, 65530, 1245185, -131067, 65534, 1245185, -131067, 65533, 1245185, -131067, 65532, 1245185, -131067, 65531, 1245185, -131067, 65530, 1245185, -131067, 65529, 1245185, -131069, 65528, 1245185, -131068, 65528, 1245185, -131066, 65528, 1245186, -131066, 65529, 1245186, -131066, 65530, 1245186, -131066, 65531, 1245186, -131066, 65527, 1245186, -131066, 65526, 1245186, -131066, 65534, 1245186, -131066, 65533, 1245186, -131067, 65535, 1245186, -131066, 65535, 1245186, -131068, 65535, 1245186, -131066, 65532, 1245185, -131072, 65527, 1179649, -131071, 65527, 1179649, -131070, 65527, 1179649, -131072, 65526, 1179649, -131072, 65525, 1179649, -131071, 65525, 1179649, -131070, 65525, 1179649, -131071, 65526, 1179648, -131070, 65526, 1179648, -131069, 65527, 1179649, -131069, 65526, 1179649, -131069, 65525, 1179649, -131068, 65527, 1179649, -131068, 65526, 1179649, -131068, 65525, 1179649, -131067, 65527, 1179649, -131067, 65526, 1179649, -131067, 65525, 1179649, -131067, 65528, 1179650, -131065, 65528, 1179650, -131066, 65525, 983041, -131068, 65524, 1179650, -131067, 65524, 1179650, -131066, 65524, 1179650, -131065, 65524, 1179650, -131065, 65529, 524289, -131065, 65530, 524289, -131065, 65531, 524289, -131064, 65531, 524289, -131064, 65530, 524289, -131064, 65529, 524289, -131063, 65529, 524289, -131063, 65530, 524289, -131063, 65531, 524289, -131064, 65528, 524289, -131063, 65528, 524289, -131065, 65527, 524289, -131065, 65526, 524289, -131064, 65526, 524289, -131064, 65527, 524289, -131063, 65527, 458753, -131063, 65526, 524289, -131065, 65525, 983041, -131064, 65525, 983041, -131063, 65525, 983041, -131062, 65526, 983042, -131062, 65525, 131074, -131061, 65525, 458753, -131061, 65526, 458753, -131062, 65527, 1, -131061, 65527, 458753, -131060, 65526, 2, -131060, 65527, 1, -131060, 65528, 1, -131060, 65529, 1, -131060, 65531, 1, -131059, 65531, 1, -131059, 65530, 1, -131060, 65530, 1, -131062, 65530, 2, -131062, 65531, 0, -131061, 65531, 0, -131061, 65529, 1, -131061, 65530, 0, -131062, 65529, 1, -131062, 65528, 1, -131061, 65528, 1, -131065, 65532, 1, -131064, 65532, 1, -131063, 65532, 1, -131062, 65532, 1, -131061, 65532, 1, -131060, 65532, 1, -131065, 65534, 1, -131065, 65533, 1, -131064, 65533, 1, -131063, 65533, 1, -131062, 65533, 1, -131061, 65533, 1, -131060, 65533, 1, -131060, 65534, 1, -131064, 65534, 1, -131063, 65534, 1, -131062, 65534, 1, -131061, 65534, 1, -131065, 65535, 2, -131064, 65535, 1, -131063, 65535, 1, -131062, 65535, 1, -131061, 65535, 1, -131060, 65535, 1, -131059, 65535, 1, -131059, 65534, 1, -131059, 65533, 1, -131059, 65532, 1, -131059, 65529, 1, -131059, 65528, 1, -131059, 65527, 1, -131059, 65526, 196610, -131058, 65535, 1, -131058, 65534, 1, -131058, 65533, 1, -131058, 65532, 1, -131058, 65531, 1, -131058, 65530, 1, -131058, 65529, 1, -131058, 65528, 1, -131058, 65527, 1, -131058, 65526, 196610, -131059, 65525, 524289, -131062, 65524, 1179650, -131061, 65524, 1179650, -131060, 65524, 1179650, -131059, 65524, 524288, -131064, 65524, 524290, -131063, 65524, 524290, -131060, 65525, 524289, -131058, 65525, 524289, -131059, 65523, 524288, -131058, 65523, 524288, -131058, 65524, 524288, -1, 1, 1441794, -65536, 1, 1441794, -65535, 1, 1441794, -65534, 1, 1441794, -65533, 0, 1441794, -65534, 65535, 2, -65533, 65535, 2, -65532, 65535, 2, -65531, 65535, 2, -65530, 65535, 2, -65529, 65535, 2, -65530, 65534, 2, -65530, 65533, 2, -65534, 65534, 2, -65534, 65533, 2, -65534, 65532, 2, -65534, 65531, 2, -1, 65534, 2, -1, 65533, 2, -1, 65532, 2, -1, 65531, 2, -1, 65530, 2, -1, 65529, 2, -1, 65528, 2, -1, 65527, 2, -1, 65526, 2, -1, 65525, 2, -65536, 65528, 2, -65535, 65528, 2, -65534, 65528, 2, -65536, 65524, 2, -65535, 65524, 2, -65534, 65524, 2, -65533, 65524, 2, -65532, 65524, 2, -65531, 65524, 2, -65530, 65524, 2, -65529, 65524, 2, -65528, 65524, 2, -65527, 65524, 2, -65526, 65524, 2, -65525, 65524, 2, -65524, 65524, 2, -65531, 65528, 2, -65530, 65528, 2, -65529, 65528, 2, -65530, 65529, 2, -65530, 65530, 2, -65530, 65531, 2, -65530, 65527, 2, -65530, 65526, 2, -65526, 65525, 2, -65526, 65526, 2, -65524, 65526, 2, -65523, 65526, 2, -65522, 65526, 2, -65526, 65530, 2, -131069, 0, 2, -131068, 0, 2, -131067, 0, 2, -131066, 0, 2, -131065, 0, 2, -131064, 0, 2, -131063, 0, 2, -131062, 0, 2, -131061, 0, 2, -131060, 0, 2, -131059, 0, 2, -131058, 0, 2, -131057, 0, 2, -131057, 65535, 2, -131057, 65534, 2, -131057, 65533, 2, -131057, 65532, 2, -131057, 65531, 2, -131057, 65530, 2, -131057, 65529, 2, -131057, 65528, 2, -131057, 65527, 2, -131057, 65526, 2, -131057, 65525, 2, -65521, 0, 786434, -65521, 65535, 786434, -65521, 65534, 786434, -65521, 65533, 786434, -65521, 65532, 786434, -65521, 65531, 786434, -65521, 65530, 786434, -65521, 65529, 786434, -65521, 65528, 786434, -65521, 65527, 786434, -65521, 65526, 786434, -65521, 65525, 786434, -65532, 0, 786434, -65531, 0, 786434, -65530, 0, 786434, -65529, 0, 786434, -65528, 0, 786434, -65527, 0, 786434, -65526, 0, 786434, -65525, 0, 786434, -65524, 0, 786434, -65523, 0, 786434, -65522, 0, 786434, -65531, 65534, 2, -65529, 65534, 2, -65532, 65525, 2, -65522, 65532, 2, -65528, 65535, 2, -65527, 65535, 2, -65526, 65535, 2, -65525, 65535, 2, -65524, 65535, 2, -65523, 65535, 2, -65522, 65535, 2, -3, 65530, 2, -65538, 65531, 2, -65538, 65530, 2, -65538, 65529, 2, -65538, 65528, 2, -65538, 65527, 2, -65538, 65526, 2, -65538, 65525, 2, -65539, 65529, 2, -65539, 65528, 2, -65539, 65527, 2, -65539, 65526, 2, -2, 65530, 2, -131060, 65523, 2, -131061, 65523, 2, -131062, 65523, 2, -131057, 65524, 2, -131057, 65523, 2, -131057, 65522, 2, -131058, 65522, 2, -131059, 65522, 2, -131060, 65522, 2, -131061, 65522, 2, -131062, 65522, 2, -131063, 65522, 2, -65521, 65524, 2, -65521, 65523, 2, -65521, 65522, 2)
}
metadata/_editor_floor_ = Vector3(0, -1, -20)

[node name="Player" type="Node3D" parent="." node_paths=PackedStringArray("mazeRef")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2, 0)
script = ExtResource("2_x7362")
moveTime = 0.35
walkCurve = SubResource("Curve_x6p1d")
slideInCurve = SubResource("Curve_mdgxm")
slideCurve = SubResource("Curve_u7dom")
slideOutCurve = SubResource("Curve_kf3x4")
rotationTime = 0.3
rotationCurve = SubResource("Curve_ou3iv")
mazeRef = NodePath("../GridMap")

[node name="Camera3D" type="Camera3D" parent="Player"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
environment = SubResource("Environment_f8dpp")
fov = 95.0
near = 0.001
script = ExtResource("3_ns3bt")
horizontalDegrees = 3.0
verticalDegrees = 10.0
cameraShake = SubResource("Curve_kfd2c")
cameraShakeIntensity = 0.1

[node name="Direction" type="Marker3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.745335, -1.04541)

[node name="ActionableFinder" type="Area3D" parent="Player/Direction"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player/Direction/ActionableFinder"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.0448093, 0.389606)
shape = SubResource("CylinderShape3D_16tlw")

[node name="Label" type="Label" parent="."]
offset_left = 16.0
offset_top = 10.0
offset_right = 149.0
offset_bottom = 59.0
text = "W and S to move
A and D to rotate
"

[node name="Character" type="Node3D" parent="."]
transform = Transform3D(0.745, 0, 0, 0, 0.745, 0, 0, 0, 0.745, -3.12508, -0.865941, -1.95334)

[node name="Actionable" type="Area3D" parent="Character"]
script = ExtResource("4_snlh1")
dialogue_resource = ExtResource("5_xanhj")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Character/Actionable"]
shape = SubResource("CapsuleShape3D_8s12t")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Character/Actionable/CollisionShape3D"]
mesh = SubResource("CapsuleMesh_vlvrd")
skeleton = NodePath("")

[node name="Key" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.94972, -0.860429, -4.02588)

[node name="Actionable" type="Area3D" parent="Key"]
script = ExtResource("6_gg44o")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Key/Actionable"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.200518, -0.0777187, 0.0369051)
shape = SubResource("BoxShape3D_rbpxt")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Key/Actionable/CollisionShape3D"]
mesh = SubResource("BoxMesh_a7d1g")

[connection signal="input_event" from="Character/Actionable" to="Player" method="_on_actionable_input_event"]
[connection signal="input_event" from="Key/Actionable" to="Player" method="_on_actionable_input_event"]
